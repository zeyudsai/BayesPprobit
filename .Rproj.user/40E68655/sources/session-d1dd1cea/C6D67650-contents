test_that("multi_chain produces valid output", {
  n <- 100
  d <- 3
  X <- matrix(rnorm(n*d), n, d)
  y <- rbinom(n, 1, 0.5)

  fit <- multi_chain(
    n_sim = 500,
    burn_in = 100,
    X = X,
    y = y,
    initial_theta = rep(0, d)
  )

  expect_type(fit, "list")
  expect_length(fit$posterior_beta, d)
  expect_true(all(is.finite(fit$posterior_beta)))
  expect_true(is.finite(fit$posterior_p))
})
